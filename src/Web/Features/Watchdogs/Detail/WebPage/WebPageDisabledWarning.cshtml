@page
@using MrWatchdog.Core.Resources
@using MrWatchdog.Web.Features.Shared
@model WebPageDisabledWarningModel
@{
   Layout = null;
}
<!turbo-frame id="watchdog_web_page_disabled_warning_@(Model.WatchdogWebPageId)">
    <div class="alert alert-warning text-center overflow-hidden"
        @Stimulus.Controller(StimulusControllers.WatchdogsDetailWebPageDisabledWarning)
        style="display:@(Model.WatchdogWebPageDisabledWarningDto.IsEnabled ? "none" : "")"
        >
        <i class="fa-solid fa-triangle-exclamation text-warning"></i> @Resource.TheWebPageHasBeenAutomaticallyDisabled
        <span style="display:@(Model.WatchdogWebPageDisabledWarningDto.HasBeenScrapedSuccessfully ? "" : "none")">
            @Resource.PleaseEnableItOnceYourEditsAreComplete
            <form asp-page-handler="EnableWatchdogWebPage"
                  asp-route-watchdogId="@Model.WatchdogId"
                  asp-route-watchdogWebPageId="@Model.WatchdogWebPageId"
                  data-watchdogs--detail-web-page-disabled-warning-target="enableWatchdogWebPageForm"
            >
                <button type="submit" class="btn btn-warning">
                    @Resource.EnableWebPage
                </button>
            </form>
        </span>
        <span style="display:@(Model.WatchdogWebPageDisabledWarningDto.HasBeenScrapedSuccessfully ? "none" : "")">
            @Resource.ToEnableItMakeSureTheWebPageIsSuccessfullyScraped
        </span>
    </div>
</!turbo-frame>

